{"version":3,"sources":["app.js","routes.js","CarController.js","CarService.js","TravelService.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["angular.module('iGeoTracker', [\n    'ngRoute',\n    'ngResource',\n    'datePicker',\n    'isteven-multi-select',\n    'routes',\n    'CarController',\n    'CarService',\n    'TravelService'\n]);","angular.module('routes', []).config(['$routeProvider', '$locationProvider', '$httpProvider',\n  function ($routeProvider, $locationProvider, $httpProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: '/partials/cars/index',\n        controller: 'CarController'\n      })\n      .when('/:category/:action?/:id?', {\n        templateUrl: function (params) {\n          var allowedParams = ['category', 'action', 'id'];\n          var paramVals = [];\n          for (var key in params) {\n            if (allowedParams.indexOf(key) !== -1) {\n              paramVals.push(params[key]);\n            }\n          }\n          return '/partials/' + paramVals.join('/');\n        }\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n    \n    $locationProvider.html5Mode(true);\n\n  }\n]);\n","angular.module('CarController', []).controller('CarController', ['$scope', '$filter', '$routeParams', 'Car', 'Travel',\n    function ($scope, $filter, $routeParams, Car, Travel) {\n\n        $scope.carSelection = [];\n        $scope.travelDistances = [];\n\n        $scope.getAll = function () {\n            $scope.cars = Car.query();\n        };\n\n        $scope.travelDistanceOn = function () {\n            var date = $filter('date')($scope.date, 'yyyy-MM-dd'),\n                cars = $scope.extractIdsFrom($scope.carSelection);\n\n            $scope.travelDistances = Travel.totalDistanceOn(date, cars);\n        };\n\n        $scope.extractIdsFrom = function (cars) {\n            var ids = [];\n\n            angular.forEach(cars, function (item) {\n                return ids.push(item._id);\n            });\n\n            return ids;\n        };\n\n        $scope.getAll();\n    }\n]);","angular.module('CarService', []).factory('Car', ['$resource',\n  function ($resource) {\n    return $resource('/api/cars/:carId', { carId: '@id' }, \n            {\n                update: {\n                    method: 'PUT'\n                }\n            });\n  }\n]);","angular.module('TravelService', []).factory('Travel', ['$http',\n  function ($http) {\n    return {\n        totalDistanceOn: function (date, cars) {\n            $http.post('/api/cars/travel-distance', {\n                date: date,\n                cars: cars\n            }).success(function (data) {\n                console.log(data);\n            });\n        }\n    }\n  }\n]);"],"sourceRoot":"/source/"}